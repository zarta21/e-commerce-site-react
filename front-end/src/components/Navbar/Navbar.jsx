import React, { useState } from 'react'
import './navbar.scss'
import Cart from '../Cart/Cart'
import { Link } from 'react-router-dom'
import SearchBar from '../SearchBar/SearchBar'
import { useSelector } from 'react-redux'
import ClickOutside from '../../hooks/ClickOutside'

const Navbar = () => {

  const [open, setOpen] = useState(false)
  const [openSearch, setOpenSearch] = useState(false)
  const products = useSelector(state => state.cart.products)

  return (
    <div className='navbar'>
      <section className='top-nav'>
          <div className="menu-container">
            <ClickOutside className="clickOutside" onClick={() => document.getElementById("toggle-btn").checked = false}>
              <input id='toggle-btn' type="checkbox" />
              <label className='btn-container' htmlFor="menu-toggle">
                <div className="menu-btn"></div>
              </label>
              <ul className='menu'>
                <li>
                  <Link to='/products/shoes' >
                      <span>Shoes</span>
                  </Link>
                </li>
                <li>
                  <Link to='/products/clothing'>
                      <span>Clothing</span>
                  </Link>
                </li>
                <li>
                  <Link to='/products/sports'>
                      <span>Sports</span>
                  </Link>
                </li>
                <li>
                  <Link to='/products/accessories'>
                      <span>Accessories</span>
                  </Link>
                </li>
              </ul>
            </ClickOutside>        
          </div>        
        <div className="logo">
          <Link to='/'>
            <span>
                <svg xmlns="http://www.w3.org/2000/svg" contrastcolor="ffffff" id1="934" id2="686" companyname="Test Shop" companytagline="" version="1.1" xlink="http://www.w3.org/1999/xlink" viewBox="72.7770362299101 167.2338585597411 404.4459275401799 135.53228288051784">
                  <g fill="green" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none"><g><g >
                      <path d="M213.8956,297.97401c-0.75808,0 -1.52067,-0.06317 -2.28777,-0.18952c-0.7671,-0.12635 -1.52067,-0.3294 -2.2607,-0.60917c-0.74003,-0.27977 -1.46652,-0.63624 -2.17947,-1.06943c-0.71295,-0.43319 -1.37627,-0.96565 -1.98995,-1.59738l-1.6786,-1.6786l3.38428,-3.38428l1.6786,1.6786c0.55953,0.57758 1.2048,1.02431 1.93581,1.34017c0.731,0.31587 1.47554,0.52795 2.23362,0.63624c0.75808,0.1083 1.50713,0.12183 2.24716,0.04061c0.74003,-0.08122 1.40786,-0.24818 2.00349,-0.50087c0.21659,-0.09025 0.45124,-0.20757 0.70393,-0.35196c0.25269,-0.1444 0.49636,-0.32489 0.731,-0.54148c0.23464,-0.21659 0.42867,-0.46026 0.5821,-0.731c0.15342,-0.27074 0.23013,-0.58661 0.23013,-0.9476c0,-0.61368 -0.09476,-1.11907 -0.28428,-1.51616c-0.18952,-0.39709 -0.51441,-0.731 -0.97467,-1.00175c-0.46026,-0.27074 -1.08297,-0.50539 -1.86812,-0.70393c-0.78515,-0.19854 -1.77336,-0.40611 -2.96462,-0.62271c-0.66783,-0.1083 -1.37627,-0.23916 -2.12532,-0.39258c-0.74905,-0.15342 -1.49359,-0.35648 -2.23362,-0.60917c-0.74003,-0.25269 -1.45298,-0.57307 -2.13886,-0.96113c-0.68588,-0.38806 -1.29054,-0.8754 -1.81397,-1.46201c-0.52343,-0.58661 -0.93857,-1.29054 -1.24541,-2.11179c-0.30684,-0.82125 -0.46026,-1.79141 -0.46026,-2.91048c0,-1.42591 0.40611,-2.70742 1.21834,-3.84454c0.81223,-1.13712 1.94934,-2.04861 3.41135,-2.73449c0.95662,-0.43319 2.03057,-0.74003 3.22183,-0.92052c1.19126,-0.18049 2.41412,-0.19403 3.66855,-0.04061c1.25444,0.15342 2.50436,0.47831 3.74978,0.97467c1.24541,0.49636 2.40058,1.2048 3.4655,2.12532l1.7869,1.5703l-3.14061,3.60087l-1.7869,-1.5703c-0.66783,-0.57758 -1.40335,-1.02882 -2.20655,-1.35371c-0.8032,-0.32489 -1.6064,-0.53246 -2.4096,-0.62271c-0.8032,-0.09025 -1.58384,-0.08573 -2.34192,0.01354c-0.75808,0.09927 -1.43493,0.28428 -2.03057,0.55502c-0.19854,0.1083 -0.40611,0.23013 -0.62271,0.3655c-0.21659,0.13537 -0.41514,0.2933 -0.59563,0.4738c-0.18049,0.18049 -0.32489,0.38806 -0.43319,0.62271c-0.1083,0.23464 -0.16245,0.49636 -0.16245,0.78515c0,0.59563 0.09025,1.08297 0.27074,1.46201c0.18049,0.37904 0.50087,0.70393 0.96113,0.97467c0.46026,0.27074 1.07846,0.50539 1.85458,0.70393c0.77613,0.19854 1.75982,0.39709 2.95109,0.59563c0.66783,0.12635 1.38078,0.26623 2.13886,0.41965c0.75808,0.15342 1.51164,0.35648 2.2607,0.60917c0.74905,0.25269 1.46201,0.57307 2.13886,0.96113c0.67686,0.38806 1.277,0.87991 1.80043,1.47554c0.52343,0.59563 0.94308,1.30859 1.25895,2.13886c0.31587,0.83028 0.4738,1.81397 0.4738,2.95109c0,1.51616 -0.46026,2.88791 -1.38078,4.11528c-0.92052,1.22736 -2.20203,2.18399 -3.84454,2.86987c-0.70393,0.28879 -1.47103,0.51441 -2.30131,0.67686c-0.83028,0.16245 -1.69665,0.24367 -2.59912,0.24367z" data-paper-data="{&quot;glyphName&quot;:&quot;S&quot;,&quot;glyphIndex&quot;:0,&quot;firstGlyphOfWord&quot;:true,&quot;word&quot;:1}" ></path>
                      <path d="M252.53219,277.45176c1.29956,0 2.5179,0.24818 3.65502,0.74454c1.13712,0.49636 2.12984,1.1687 2.97816,2.01703c0.84832,0.84832 1.52067,1.84105 2.01703,2.97816c0.49636,1.13712 0.74454,2.35546 0.74454,3.65502v10.74846h-4.76506v-10.74846c0,-0.63173 -0.12183,-1.22736 -0.3655,-1.7869c-0.24367,-0.55953 -0.57758,-1.05138 -1.00175,-1.47554c-0.42416,-0.42416 -0.91601,-0.75808 -1.47554,-1.00175c-0.55953,-0.24367 -1.15517,-0.3655 -1.7869,-0.3655c-0.63173,0 -1.23188,0.12183 -1.80043,0.3655c-0.56856,0.24367 -1.06041,0.57758 -1.47554,1.00175c-0.41514,0.42416 -0.74454,0.91601 -0.98821,1.47554c-0.24367,0.55953 -0.3655,1.15517 -0.3655,1.7869v10.74846h-4.76506v-27.0742h4.76506v8.17641c0.68588,-0.39709 1.41688,-0.70393 2.19301,-0.92052c0.77613,-0.21659 1.58835,-0.32489 2.43668,-0.32489z"  ></path>
                      <path d="M292.76248,297.97401c-1.5342,0 -2.97816,-0.2933 -4.33187,-0.87991c-1.35371,-0.58661 -2.53144,-1.38078 -3.53318,-2.38253c-1.00175,-1.00175 -1.79592,-2.17947 -2.38253,-3.53318c-0.58661,-1.35371 -0.87991,-2.79767 -0.87991,-4.33187c0,-1.5342 0.2933,-2.97365 0.87991,-4.31833c0.58661,-1.34469 1.38078,-2.52241 2.38253,-3.53318c1.00175,-1.01077 2.17947,-1.80946 3.53318,-2.39607c1.35371,-0.58661 2.79767,-0.87991 4.33187,-0.87991c1.5342,0 2.97816,0.2933 4.33187,0.87991c1.35371,0.58661 2.53144,1.3853 3.53318,2.39607c1.00175,1.01077 1.79592,2.1885 2.38253,3.53318c0.58661,1.34469 0.87991,2.78413 0.87991,4.31833c0,1.5342 -0.2933,2.97816 -0.87991,4.33187c-0.58661,1.35371 -1.38078,2.53144 -2.38253,3.53318c-1.00175,1.00175 -2.17947,1.79592 -3.53318,2.38253c-1.35371,0.58661 -2.79767,0.87991 -4.33187,0.87991zM292.76248,280.48407c-0.88442,0 -1.71019,0.16696 -2.47729,0.50087c-0.7671,0.33392 -1.43944,0.78966 -2.01703,1.36725c-0.57758,0.57758 -1.03333,1.25444 -1.36725,2.03057c-0.33392,0.77613 -0.50087,1.59738 -0.50087,2.46375c0,0.88442 0.16696,1.7147 0.50087,2.49083c0.33392,0.77613 0.78966,1.45298 1.36725,2.03057c0.57758,0.57758 1.24993,1.03333 2.01703,1.36725c0.7671,0.33392 1.59287,0.50087 2.47729,0.50087c0.88442,0 1.71019,-0.16696 2.47729,-0.50087c0.7671,-0.33392 1.43944,-0.78966 2.01703,-1.36725c0.57758,-0.57758 1.03333,-1.25444 1.36725,-2.03057c0.33392,-0.77613 0.50087,-1.6064 0.50087,-2.49083c0,-0.86637 -0.16696,-1.68763 -0.50087,-2.46375c-0.33392,-0.77613 -0.78966,-1.45298 -1.36725,-2.03057c-0.57758,-0.57758 -1.24993,-1.03333 -2.01703,-1.36725c-0.7671,-0.33392 -1.59287,-0.50087 -2.47729,-0.50087z"></path>
                      <path d="M335.91488,275.71902c1.51616,0 2.93755,0.28879 4.26419,0.86637c1.32664,0.57758 2.48631,1.36273 3.47903,2.35546c0.99272,0.99272 1.77787,2.1524 2.35546,3.47903c0.57758,1.32664 0.86637,2.74803 0.86637,4.26419c0,1.51616 -0.28879,2.94206 -0.86637,4.27772c-0.57758,1.33566 -1.36273,2.49534 -2.35546,3.47903c-0.99272,0.9837 -2.1524,1.76434 -3.47903,2.34192c-1.32664,0.57758 -2.74803,0.86637 -4.26419,0.86637c-1.04687,0 -2.04861,-0.13537 -3.00524,-0.40611c-0.95662,-0.27074 -1.85007,-0.66783 -2.68035,-1.19126l2.11179,-4.1965c0.50539,0.36099 1.06041,0.63624 1.66506,0.82576c0.60466,0.18952 1.2409,0.28428 1.90873,0.28428c0.86637,0 1.6786,-0.16245 2.43668,-0.48734c0.75808,-0.32489 1.4214,-0.77161 1.98995,-1.34017c0.56856,-0.56856 1.01979,-1.23639 1.35371,-2.00349c0.33392,-0.7671 0.50087,-1.58384 0.50087,-2.45022c0,-0.86637 -0.16696,-1.6786 -0.50087,-2.43668c-0.33392,-0.75808 -0.78515,-1.4214 -1.35371,-1.98995c-0.56856,-0.56856 -1.23188,-1.01979 -1.98995,-1.35371c-0.75808,-0.33392 -1.5703,-0.50087 -2.43668,-0.50087c-0.86637,0 -1.68311,0.16696 -2.45022,0.50087c-0.7671,0.33392 -1.43493,0.78515 -2.00349,1.35371c-0.56856,0.56856 -1.01528,1.23188 -1.34017,1.98995c-0.32489,0.75808 -0.48734,1.5703 -0.48734,2.43668v8.98863v1.5703v5.52314h-4.68384v-26.64101h4.68384v1.59738c0.90247,-0.63173 1.88166,-1.12358 2.93755,-1.47554c1.05589,-0.35196 2.17045,-0.52795 3.34366,-0.52795z"></path>
                      </g><g><path d="M77.07379,168.00507c-2.53398,0 -4.29676,1.76277 -4.29676,4.29676v8.26299c0,0.99156 0.22035,2.20346 1.21191,3.19502c0.99156,0.88139 2.20346,1.10173 3.08485,1.10173h34.48422v55.968c0,0.88139 0.22035,2.09329 1.21191,3.08485c0.88139,0.99156 2.09329,1.21191 3.08485,1.21191h9.4749c0.99156,0 2.20346,-0.22035 3.08485,-1.21191c0.99156,-0.99156 1.21191,-2.20346 1.21191,-3.08485v-55.968h34.37405c2.53398,0 4.40693,-1.6526 4.40693,-4.29676v-8.26299c0,-0.99156 -0.44069,-2.09329 -1.21191,-3.08485c-0.99156,-0.88139 -2.20346,-1.21191 -3.19502,-1.21191z"></path>
                      <path d="M176.11953,240.93975c0,0.88139 0.33052,2.09329 1.21191,2.97468c0.11017,0.33052 0.33052,0.33052 0.44069,0.44069c0.77121,0.55087 1.6526,0.77121 2.64416,0.77121h80.31628c0.88139,0 1.98312,-0.11017 2.8645,-0.88139l0.33052,-0.33052c0.88139,-0.99156 1.10173,-2.20346 1.10173,-3.08485v-8.26299c0,-0.66104 0,-1.10173 -0.11017,-1.21191c-0.33052,-2.09329 -2.31364,-3.08485 -4.18658,-3.08485h-80.42646c-1.43225,0 -2.20346,0.44069 -3.19502,1.43225c-0.55087,0.77121 -0.88139,1.6526 -0.88139,2.64416c-0.11017,0.11017 -0.11017,0.55087 -0.11017,1.32208zM176.2297,171.97131c0,0.44069 -0.11017,0.88139 -0.11017,1.32208v7.38161c0,0.88139 0.22035,2.09329 1.21191,3.08485c0.33052,0.11017 0.22035,0.22035 0.55087,0.33052c0.77121,0.77121 1.76277,0.77121 2.53398,0.77121h79.87559c0.88139,0 2.09329,-0.22035 3.08485,-1.10173c0.99156,-0.99156 1.21191,-2.20346 1.21191,-3.19502v-8.26299c0,-0.11017 -0.11017,-0.44069 -0.22035,-1.21191c-0.33052,-1.43225 -0.88139,-1.87294 -2.09329,-2.64416c-0.55087,-0.33052 -1.21191,-0.44069 -1.98312,-0.44069h-79.32473c-0.88139,-0.11017 -2.20346,0.11017 -3.19502,0.99156l-0.55087,0.44069c-0.77121,0.77121 -0.88139,1.76277 -0.99156,2.53398zM176.11953,211.41332c0.11017,0.99156 0.55087,1.76277 1.21191,2.31364c0.11017,0.33052 0.33052,0.33052 0.44069,0.44069c0.88139,0.77121 1.87294,0.77121 2.64416,0.77121h1.32208h77.45178c2.64416,0 4.29676,-1.6526 4.29676,-4.29676v-8.15282c0,-0.66104 0,-1.10173 -0.11017,-1.21191c-0.11017,-0.77121 -0.77121,-1.98312 -1.54243,-2.31364c-0.77121,-0.77121 -1.76277,-0.77121 -2.53398,-0.77121h-78.11282c-0.99156,-0.11017 -2.31364,0 -3.3052,0.88139l-0.55087,0.44069c-0.66104,0.77121 -0.99156,1.6526 -0.99156,2.42381l-0.22035,1.32208z" ></path>
                      <path d="M302.37805,167.23386c-15.09373,0 -24.12794,6.61039 -24.12794,22.36517c0,15.42425 9.0342,22.36517 23.90759,23.24655l46.38293,2.64416c3.41537,0.11017 4.9578,0.99156 5.83918,1.87294c0.88139,0.99156 1.32208,2.64416 1.32208,4.9578c0,4.84762 -2.09329,5.94935 -6.83074,5.94935c-9.69524,0.11017 -18.61928,0.11017 -27.43313,0.11017c-14.65304,0 -31.2892,0.11017 -38.6708,0.11017h-4.07641c-0.33052,0.11017 -0.44069,0.22035 -0.44069,0.55087c0.33052,8.92403 7.60195,16.08529 16.52598,16.08529h54.97644c15.31408,0 24.12794,-6.61039 24.12794,-22.47534c0,-15.31408 -9.25455,-22.36517 -23.90759,-23.13638l-46.38293,-2.64416c-3.41537,-0.33052 -4.9578,-0.99156 -5.83918,-1.98312c-0.99156,-0.99156 -1.43225,-2.53398 -1.43225,-4.84762c0,-2.53398 0.55087,-3.74589 1.32208,-4.5171c0.77121,-0.77121 2.42381,-1.43225 5.50866,-1.43225h70.29052c0.33052,0 0.44069,-0.11017 0.44069,-0.44069v-0.11017c0,-9.14438 -7.16126,-16.30564 -16.30564,-16.30564z" ></path>
                      <path d="M385.88936,168.00507c-2.53398,0 -4.29676,1.76277 -4.29676,4.29676v8.26299c0,0.99156 0.22035,2.20346 1.21191,3.19502c0.99156,0.88139 2.20346,1.10173 3.08485,1.10173h34.48422v55.968c0,0.88139 0.22035,2.09329 1.21191,3.08485c0.88139,0.99156 2.09329,1.21191 3.08485,1.21191h9.4749c0.99156,0 2.20346,-0.22035 3.08485,-1.21191c0.99156,-0.99156 1.21191,-2.20346 1.21191,-3.08485v-55.968h34.37405c2.53398,0 4.40693,-1.6526 4.40693,-4.29676v-8.26299c0,-0.99156 -0.44069,-2.09329 -1.21191,-3.08485c-0.99156,-0.88139 -2.20346,-1.21191 -3.19502,-1.21191z" ></path>
                      </g></g>
                  </g>
                </svg>
            </span>
          </Link>          
        </div>
        <div className="icons-container">
          <div className="search" onClick={() => setOpenSearch(!openSearch)}>
            <svg width="19" height="20" viewBox="0 0 19 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M13 13.5L17.7495 18.5M15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1C11.866 1 15 4.13401 15 8Z" stroke="#151515" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
          </div>
          <div className="bag" onClick={() => setOpen(!open)}>
            <svg width="19" height="20" viewBox="0 0 19 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M1 4.58011L3.88304 1.09945V1H15.2164L18 4.58011M1 4.58011V17.2099C1 18.2044 1.89474 19 2.88889 19H16.1111C17.1053 19 18 18.2044 18 17.2099V4.58011M1 4.58011H18M13.3275 8.16022C13.3275 10.1492 11.6374 11.7403 9.54971 11.7403C7.46199 11.7403 5.67251 10.1492 5.67251 8.16022" stroke="#151515" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <span>{products.length}</span>
          </div>
        </div>
      </section>
      {open && <ClickOutside onClick={() => setOpen(!open)}><Cart open={open} setOpen={setOpen} /></ClickOutside>}
      {openSearch && <SearchBar open={openSearch} setOpen={setOpenSearch} />}
    </div>
  )
}

export default Navbar
